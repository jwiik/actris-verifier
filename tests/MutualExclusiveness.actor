// The tool should report that the two first actors do not fullfill the
// mutual exclusiveness criteria. DetMerge fullfills the criteria.

actor NonDetMerge2 int x1, int x2 ==> int y :
  a1: action x1:[i] ==> y:[i] end
  a2: action x2:[i] ==> y:[i] end
end

actor NonDetMerge3 int x1, int x2, int x3 ==> int y :
  a1: action x1:[i] ==> y:[i] end
  a2: action x2:[i] ==> y:[i] end
  a3: action x3:[i] ==> y:[i] end
end


actor DetMerge int ctrl, int x1, int x2, int x3 ==> int y :
  a1: action ctrl:[c], x1:[i] ==> y:[i] 
    guard c = 1
  end
  a2: action ctrl:[c], x2:[i] ==> y:[i] 
    guard c = 2
  end
  a3: action ctrl:[c], x3:[i] ==> y:[i] 
    guard c = 3
  end
end
