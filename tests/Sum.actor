actor Sum int x ==> int y: 
  int sum;
  
  invariant 0 <= sum
  invariant rd(x) > 0 ==> sum = y[last]
  invariant rd(x) = 0 ==> sum = 0
  stream invariant rd(x) = tot(y)
  stream invariant tot(y) > 0 ==> y[0] = x[0]
  stream invariant (forall int i :: every(y,i) ==> y[i] >= x[i])
  stream invariant (forall int i :: every(y,i,1,0) ==> y[i] = y[i-1]+x[i])

  initialize ==> do
    sum := 0;
  end
  action x:[i] ==> y:[sum]
    requires 0 <= i
    ensures i <= sum 
  do
    sum := sum+i;
  end 
end