actor Pos int x ==> bool y:
  contract x:1 ==> y:1 
    ensures if 0 <= x[@] then y[@] else !y[@] end
  end
  action x:[i] ==> y:[if 0 <= i then true else false end] end
end

actor Selector bool x ==> int y:
  action x:[i] ==> y:[1] 
    guard i
  end
  action x:[i] ==> y:[-1]
    guard !i
  end
end

network N int x ==> int y:
  
  contract x:2 ==> y:2 
    guard 0 <= x[@]
    requires 0 < x[@+1]
  end
  
  
  entities a = Pos(); b = Selector(); end
  structure x --> a.x; a.y --> b.x; b.y --> y end
  
end